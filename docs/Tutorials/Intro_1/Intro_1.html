<!DOCTYPE html>
<html>
<head>
<title>Advanced Science Visualizations with Python</title>

<link rel="stylesheet" type="text/css" href="http://localhost:8000/Dokumente/Computerphysik/docs/style.css">
<!--<link rel="stylesheet" type="text/css" href="https://quentinwach.github.io/Animating-Science/style.css">-->
<link href="https://fonts.googleapis.com/css?family=Barlow" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Open Sans" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

<link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript"
  src="http://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

</head>
<body>

<img src="top_pic.png" alt="headingImage" width=100% style="padding: 0px;">

<p><b>Advanced Science Visualizations with Python</b></p>
<h1>HOW TO PLOT</h1>
<p><b><a href="https://twitter.com/QuentinWach">Quentin Wach</a></b></p>

<p>
In this series you will learn how to create animations with <a href="https://www.python.org/">Python</a> like this one for example:
</p>

<img src="showcase.gif" alt="showcaseAnimation" width=45%>

<p>
Yet this tutorial and all the following are not oriented towards students just starting out and searching for coding advice or directions in how to set up their environment. - If however you already have some experince coding and using Python, and you want to start visualizing your data or simulation without moving to another tool, this is the guide you have been searching for. If not, let me convince you otherwise real quick:
</p>
<img src="python.png" alt="Python" width=10% style="filter: grayscale(100%);">
<p><b>Why choose Python?</b>
- There are many great and easy programming languages and tools to create interactive visulatizations and animations for science most notably <a href="https://www.wolfram.com/mathematica/">Mathematica</a>. Yet Python is currently the most used programming language in STEM research mostly because it's very high level and therfore very easy to use. It offers a wide range of modules that can be imported to extent it's functionality and the community is working relentlessly to enable anyone to do anything with Python. You want to create and test new algorithms and design circuits for quantum computing? You want to prototype custom machine learning models as fast as possible? Anylze big data? Python is the way to go. - Even though the code might be intimidating for newcomers, you have complete control over every little aspect of your visualization and in contrast to Mathematica, it is also completely free!
</p>
<img src="matplot.png" alt="Matplot" width=10% style="filter: grayscale(100%);">
<p><b>What do I need?</b> - Patience. Like anything else worth pursuing, learning to create nice science animations will take time. The main reason for me to write about this is, because I myself want to push myself forward. - You will have to install <a href="https://matplotlib.org/">Matplotlib</a> for the basics. We will add more libraries as we move on. 
</p>


<hr>
<p>After you have installed Matplotlib you can immediatly start plotting. I recommend to install <a href="https://numpy.org/">Numpy</a> aswell if you dared not to do until now despite it being the fundamental Python package for scientific computing. We will plot a simple x-y-graph with the dummy function</p>

<p>$$\; f(x) = \big[ (x-1)^3 + 1 \big] \cdot n(x)$$</p>

<p>with $r(x)$ beeing a scaled random value sampled from the <a href="https://en.wikipedia.org/wiki/Normal_distribution">normal distribution</a>. Also $-2 < x < 4$ and $-20 < y < 20$.
</p>
<pre><code class="python">
import matplotlib.pyplot as plt

# for LaTeX font
from matplotlib import rc
rc('font',**{'family':'sans-serif','sans-serif':['Helvetica']})
rc('text', usetex=True)

# extension for scientific computing
import numpy as np

# x tics
X = np.arange(-2,4,0.003)

# line
Y = []
for x in X:
    y = ((x-1)**3 + 1)
    Y.append(y)

# random dots around line
Y2 = []
for x in X:
    y2 = ((x-1)**3 + 1) + (np.random.normal(0,2))
    Y2.append(y2)

# create the figure
fig, ax = plt.subplots(1,figsize=(5,3), dpi=200)

# color of figure border
fig.patch.set_facecolor('white')

# data plotting
ax.plot(X,Y2,".", markersize=1)
ax.plot(X,Y,"-", color="crimson")

# y-axis
plt.ylabel(r"$y$")
plt.ylim(-20, 20)
# x-axis
plt.xlabel(r"$x$")
plt.xlim(-2, 4) 

# LaTeX function
plt.text(0.45,8.5,r"$(x-1)^3 + 1$", color="crimson", size=10)

# save graphic
plt.savefig("E1.svg", bbox_inches="tight")

# show graphic
plt.show()
</code></pre>
<img src="E1.svg" alt="E1" width=80% style="display: block;margin-left:auto;margin-right:auto; text-align: center; padding-top: 20px; padding-right: 60px;">
<p>As you scale the figure size keep in mind that markers, lines, text and labels won't change with it. So if you increase the figure the function at the center of the figure will seem tinier relative to the rest of the plot and the points might become quite small aswell. 
</p>
<p>The formula at the center is written in <a href="https://www.latex-project.org/">LaTeX</a>. There are of course a lot more possible addtional changes. We will learn to style and modify our plot extensively in part four of this series like changing any color no matter if lines or the background and much more.
</p>
<hr>
<p>
When you read through the given code for the image you will also note that we didn't just create a single figure but actually layed out the foundation for the addition of many more so called subplots we can design and fill with all kinds of other things. In some of the examples we will visualize the propagation of a simulation and then measure a few features we are interested in and plot them in an additional subplot next to the main one. This comes handy also when we want to plot a series of images from your animation in your paper. - Here is an example of how to do that:
</p>
<pre><code class="python">
import matplotlib.pyplot as plt

# for LaTeX font
from matplotlib import rc
rc('font',**{'family':'sans-serif','sans-serif':['Helvetica']})
rc('text', usetex=True)

# linear algebra extension
import numpy as np

# x tics
X = np.arange(-2,4,0.003)

# line
Y = []
for x in X:
    y = ((x-1)**3 + 1)
    Y.append(y)

# random dots around line
Y2 = []
for x in X:
    y2 = ((x-1)**3 + 1) + (np.random.normal(0,2))
    Y2.append(y2)

# create the figure and subplots
fig, axs = plt.subplots(1,2,figsize=(8,3), dpi=200)
# color of figure border
fig.patch.set_facecolor('white')

# SUBPLOT 1
axs[0].set_title(r"Dummy data $f(x)$", size=10)
# data plotting
axs[0].plot(X,Y2,".", markersize=1, color="steelblue")
axs[0].plot(X,Y,"-", color="crimson")
# y-axis
axs[0].set_ylabel(r"$y$",labelpad=-5)
axs[0].set_ylim(-20, 20)
# x-axis
axs[0].set_xlabel(r"$x$")
axs[0].set_xlim(-2, 4)
# LaTeX function
axs[0].text(0.15,-12.5,r"$f(x) = \big[ (x-1)^3 + 1 \big] + n(x)$", color="steelblue", size=10) # color="crimson"

# SUBPLOT 2
axs[1].set_title(r"Normal distribution $n(x)$", size=10)
# data plotting
mu, sigma = 0, 2 # mean and standard deviation
s = np.random.normal(mu, sigma, int(6//0.003))
count, bins, ignored = axs[1].hist(s, 300, density=True, color="steelblue")
axs[1].plot(bins, 1/(sigma * np.sqrt(2 * np.pi)) 
    * np.exp( - (bins - mu)**2 / (2 * sigma**2) ),
    color="black")
# x-axis
axs[1].set_xlabel(r"$x$")
axs[1].set_xlim(-4.5, 4.5)
# y-axis
axs[1].yaxis.set_label_position("right")
axs[1].yaxis.tick_right()
axs[1].set_ylabel(r"Probability density",labelpad=5)
axs[1].set_ylim(0, 0.25)
axs[1].text(-4.,0.21,r"$\mu = 0$", color="black", size=10)
axs[1].text(-4.,0.192,r"$\sigma = 2$", color="black", size=10)


# adjust spacing between subplots
plt.tight_layout()

# save graphic
plt.savefig("E2.svg", bbox_inches="tight")

# show graphic
plt.show()
</code></pre>
<img src="E2.svg" alt="E2" width=80% style="display: block;margin-left:auto;margin-right:auto; text-align: center;padding-top: 20px;padding-right: 32px;">
<p>For the sake of visibility one must create some additional space between the subplots. - We must also increase the total figure size for the same reason.
</p>


</body>
</html>