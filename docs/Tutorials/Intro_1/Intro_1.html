<!DOCTYPE html>
<html lang="en">
<head>
  <title>Quentin Wach | Plot Like a Pro</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- STYLE -->
  <!--<link rel="stylesheet" type="text/css" href="https://quentinwach.github.io/Animating-Science/style.css">-->
  <link rel="stylesheet" type="text/css" href="http://localhost:8000/Dokumente/Computerphysik/docs/style.css">

  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

  <!-- ICON -->
  <link rel="shortcut icon" href="https://quentinwach.github.io/Animating-Science/pagelog.ico">

  <!-- CODE -->
  <link rel="stylesheet"
        href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/default.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <!-- MATH -->
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>

<p class="attention">A CORONA PROJECT</p>
<div class="sidenav">
  <a href="https://quentinwach.github.io/Animating-Science/" class="ASTit" ><h1>ANIMATING SCIENCE</h1></a>
  <p style="color: black; text-align: center;"><b>Advanced Visualizations with Python</b> </p>
  <p style="color: white; text-align: center; font-size: 16px;">Introduction</p>
  <div class="box">
    <a href="" class="postN">
      <b>Plot Like a Pro</b> - Intro 1
    </a>
  </div>
  <div class="box">
    <a class="postN" style="text-decoration: line-through;">
      <b>Visual Principles</b> - Intro 2
    </a>
  </div>
  <div class="box">
    <a class="postN" style="text-decoration: line-through;">
      <b>Animate the Data</b> - Intro 3
    </a>
  </div>
  <p style="color: white; text-align: center;font-size: 16px;">Examples</p>
  <div class="box">
    <a class="postN" style="text-decoration: line-through;">
      <b>Cannonball</b> - Example 1
    </a>
  </div>
  <div class="box">
    <a class="postN" style="text-decoration: line-through;">
      <b>Quantum Tunneling</b> - Example 2
    </a>
  </div>
  <div class="box">
    <a class="postN" style="text-decoration: line-through;">
      <b>Chaotic Pendulums</b> - Example 3
    </a>
  </div>
  <div class="box">
    <a class="postN" style="text-decoration: line-through;">
      <b>Galaxy Collision</b> - Example 4
    </a>
  </div>
  <p style="color: #EDEDED; text-align: center;font-size: 16px; line-height: 18px; padding: 20px;"><b>Note</b>: This series is evolving over time. I highly encourage you to ask questions and make recommendations for improvement via Twitter <a href="https://twitter.com/QuentinWach" style="color: white; background-color: darkgray; border: none;">@QuentinWach</a>.</p>
</div>

<div class="content">
    <!-- RETWEET -->
    <!--https://twitter.com/intent/retweet?tweet_id=1153018532369555456-->
    <a href="https://twitter.com/intent/tweet?text=Plot Like a Pro &amp;url=https://quentinwach.github.io/Animating-Science/Tutorials/Intro_1/Intro_1.html" target="_blank" style="all: unset;" class="retweet">
      <img src="https://quentinwach.github.io/Animating-Science/tweet_pic.png" alt="Tweet" class="retweet">   
    </a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    
    <!-- STAR ON GITHUB -->
    <a href="https://github.com/QuentinWach/Animating-Science"  target="_blank" class="GitStar">
      <i alt="Star" class="material-icons" style="font-size: 40px; padding-top: 7px;">grade</i>  
    </a>

    <!-- BLOG POST -->
    <h2>PLOT LIKE A PRO</h2>
    <p style="text-align: center; margin-bottom: 55px;"><b><a href="https://twitter.com/QuentinWach" target="_blank">Quentin Wach</a></b></p>

    <p>
    In this series you will learn how to create animations with <a href="https://www.python.org/" target="_blank">Python</a> starting with an 
    overview about plotting in general. If you take only one idea out of this tutorial, let it be this:</p>

    <p class="quote">DO NOT TRUST THE DEFAULT! - CUSTOMIZE EVERYTHING!</p>
    <p>

    Hence this tutorial and all the following are not oriented towards students just starting out and searching for coding advice or directions in how to set up their environment. - If however you already have some experience coding and using Python, and you want to start visualizing your data or simulation without moving to another tool, and do so properly, this is the guide you have been searching for.

    </p>
    <img src="python.png" alt="Python" width=10% style="filter: grayscale(100%);">

    <p><b>Why choose Python with Matplotlib?</b>

    <p>There are many great tools to create interactive visualizations and animations for science most notably Mathematica and Matlab. Many academics in STEM use them, but there is no discussion that if you want to create beautifull, solid and creative visualizations that are to be published, Matplotlib is the way to go.</p>
    
    <p>It offers the precision other tools lack and creates clean plots without aliasing, correct vectorizations and formatting no matter what backend. There is nothing you can't access and thus you can customize anything you desire. Every single plot object like figures and axes or even individual ticks, lines, labels or points can be changed to fit your needs.</p>

    <p>All of that can be done with Python which is the most popular programming language in STEM research mostly because it's very high level and therefore very easy to use especially for bigger projects. It offers a wide range of other modules besides Matplotlib that can be imported to extend it's functionality and the community is working relentlessly to enable anyone to do anything with Python. You want to create and test new algorithms and design circuits for quantum computing? You want to prototype custom machine learning models as fast as possible? Analyze big data? Run with Python.</p>
    
    <p>Both are completely free for everyone.</p>

    <img src="matplot.png" alt="Matplot" width=10% style="filter: grayscale(100%);">

    <p><b>How do I work through this?</b></p>
    <p>I encourage you to create a Jupyter notebook for this particular tutorial so that you can play around with the given codesnippets and examples, but later on, when we start animating, it will be best to work with a simple editor and the terminal.</p>
    <p>Please install Numpy aswell if you dared not to do until now despite it being the fundamental Python package for scientific computing.
    Do not use Pylab all the much if at all, please.</p>

    <hr>
    <h3> The Matplotlib API </h3>
    <p>
      Most tutorials are very focused on very rudimentary aspects of this library or only show you a very special example. Let's do things differently and get at least some overview so that we can actually form the general understanding we need to truly be able to grow our plotting powers.
    </p>
    <p>
      With Matplotlib you have access to <b><a href="https://matplotlib.org/3.2.0/api/index.html" target="_blank">56 submodules</a></b>.
    </p>
    <p>
      You might find this a bit overwelming at first, but the module is carefully desgined to be very <b>object oriented</b> and the naming conventions are mostly quite intuitive as you will realize soon. In fact, you won't even really have to understand anything at first, because you can simply load <a href="https://matplotlib.org/3.2.1/api/pyplot_summary.html" target="_blank" class="inline">matplotlib.pyplot</a> for a <b>command line approach</b> which makes it very easy to get the basics done quickly. (Sadly Matplotlib's biggest issue is it's <a href="https://matplotlib.org/3.2.1/api/index.html#usage-patterns" target="_blank">API</a>. This is mostly because it is heavily influenced by Matlab.) These two aspects, the pyplot and the object oriented approach are the most common ways of using this vast library. 
    </p>
    <!--<p>
      Matplotlib's objects form the core of the library. Every element in the figure is represented using matplotlib's so called artist class, offering a wide range of properties to customize its design. To understand them is absolutely necessary for the control and customization of the appeareance we desire.
    </p> -->
    
    <hr>
    <h3>Primitives & Containers </h3>
    <p> In Matplotlib objects are seperate into primitives and containers.</p>
    <p class="quote">
      "The primitives represent the standard graphical objects we want to paint onto our canvas: Line2D, Rectangle, Text, AxesImage, etc., and the containers are places to put them (Axis, Axes and Figure). The standard use is to create a Figure instance, use the Figure to create one or more Axes or Subplot instances, and use the Axes instance helper methods to create the primitives." <a href="https://matplotlib.org/3.2.1/api/index.html#usage-patterns"  target="_blank"> Read more.</a>
    </p>
    <p>
      Most of the time we will be interested in customizing the primitives like the font family of a text or the thinkness and color of a line.
    </p>

    <hr>
    <p><b><a href="https://matplotlib.org/3.2.0/tutorials/intermediate/artists.html" target="_blank">Artist Objects</a></b></p>
    <p>
      The class from which all other objects inherit their basic properties is the artist. It's list of basic options to configure is quite long. You can use <a href="https://matplotlib.org/3.2.0/api/_as_gen/matplotlib.artist.getp.html#matplotlib.artist.getp" target="_blank"> matplotlib.artist.getp() </a> to print out the properties of any object. This way you may change the background colors, the positioning order / z-order or fix objects so that they don't get animated etc..
      In general, properties of any object 'o' can be changed with <a>o.set(alpha=0.5, animated=False)</a> for example.
    </p>
    <p>
      The reason for why it is called Artist is that this is where Matplotlib defines how to render objects to the canvas.
    </p>

    <hr>
    <p><b><a href="https://matplotlib.org/3.2.1/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" target="_blank">The Figure</a></b></p>
    <p>
      The complete image we create - the all encompassing container - is the <a> matplotlib.figure.Figure </a>, and it holds everything in the figure. As one might expect this is where we will add our axes and subplots.
    </p>

    <hr>
    <p><b><a href="https://matplotlib.org/3.2.1/api/axes_api.html#matplotlib.axes.Axes" target="_blank">Axes</a></b></p>

    <hr>
    <p><b><a>Axis</a></b></p>

    <hr>
    <p><b><a>Ticks</a></b></p>


    <hr>
    <h3>Filling Figures</h3>
    <a href="https://stackoverflow.com/questions/43326680/what-are-the-differences-between-add-axes-and-add-subplot"  target="_blank"> Difference Axes and Subplots WICHTIG</a>
    <p>
      ... The basic but complicated approach would be to do define axes independently and then add them together which allows for the creation of overlapping subplots like this:
    </p>
    <pre><code class="python">
      fig = plt.figure(figsize=(2.5,2.5),(dpi=200))
      ax1 = plt.Axes(fig=fig, rect=[0.75, 0.75, 0.5, 0.5], facecolor='crimson')
      ax2 = plt.Axes(fig=fig, rect=[0, 0, 1, 1], facecolor='steelblue')
      fig.add_axes(ax2)
      fig.add_axes(ax1)
    </code></pre>

    <img src="E5.svg" alt="E5" width=45% style="display: block;margin-left:auto;margin-right:auto; text-align: center;padding-top: 20px;">

    <p>
      Now, I assume you might already have created several plots with Matplotlib in the past. But did you fit multiple plots into a single figure? In some of the examples we will visualize the propagation of a simulation and then measure a few features we are interested in and plot them in an additional subplot next to the main one. This comes handy also when we want to plot a series of images from your animation in your paper.
    </p>

    <p>
    You may have previously defined parameters like <a href="">dpi</a> and size of your plot when exporting. But you can do so already when you set up the plot as a figure object. Here is a nice <a href="https://matplotlib.org/matplotblog/posts/an-inquiry-into-matplotlib-figures/" target="_blank">post on figures</a>. Often times we can simply
    define all <a href="">subplots</a> in such a figure with</p>

    <pre><code class="python">
    fig, ax = plt.subplots(2, 2, figsize=(8, 4))
    </code></pre>

    <p>where <a>fig</a> is the figure object and <a>ax</a> a numpy array of subplots/axes that can then be specified like this:</p>

    <pre><code class="python">
    ax[0, 0].plot(x, y) # ax1
    ax[0, 1].plot(x, y) # ax2
    ax[1, 0].plot(x, y) # ax3
    ax[1, 1].plot(x, y) # ax4
    </code></pre>
    <p>Which - in this case - gives us a nice layout like this one when showed:</p>
    
    <img src="E4.svg" width=90% style="filter: grayscale(100%);">

    <p>In order for the subplots to fit nicely next to each other without overlapping, we can add:</p>

    <pre><code class="python">
      # adjust spacing between subplots
      plt.tight_layout()
    </code></pre>

    <p>We must also increase the total figure size if we want to have the ratios between labels, tics etc. in each subplot still
    similar to how they would be if we had plotted each of the axes seperately. As you scale the figure size keep in mind that markers, lines, text and labels won't change with it. So if you increase the figure the function at the center of the figure will seem tinier relative to the rest of the plot and the points might become quite small aswell. 
    </p>

    <hr>
    <p><b><a href="https://matplotlib.org/3.2.1/api/_as_gen/matplotlib.pyplot.subplot2grid.html" target="_blank">Subplot2grid</a></b></p> 

    <p>
      Now, using <a>subplots()</a> is great to get basic subplots done quickly. And defining axes seperately and adding them gives us a lot of control, but can become a bit too complicated for more extensive figures. - We want to have control over the exact shapes and ratios of all the subplots so simply using Matplotlib's subplot method won't be enough. We may want to use <a href="https://matplotlib.org/gallery/userdemo/demo_gridspec01.html#sphx-glr-gallery-userdemo-demo-gridspec01-py" target="_blank">subplot2grid</a> to define our overall plot structure and define the individual plots and their positions inside the grid in the second step.</p>
    <p>We define our figure:</p>
    <pre><code class="python">
      fig = plt.figure(figsize=(8,3), dpi=200)
    </code></pre>
    <p>... then follow with the layout of the subplots,</p>
    <pre><code class="python">
      ax1 = plt.subplot2grid((1, 8), (0, 0), colspan=3)
      ax2 = plt.subplot2grid((1, 8), (0, 3), colspan=5)
    </code></pre>
    <p>where we define a grid with a single row and 8 columns. We can then add all kinds of stuff to the axes seperatily. So we may get something like this:</p>

    <img src="E2.svg" width=90%>

    <p>The first subplot <i> ax1 </i> with the dummy data starts at the upper left grid point and stretches over the full length of the rows and over three columns. Thus the second subplot <i> ax2 </i> with the normal distribution starts at the third and stretches over all remaining grid points.
    </p>
    <p>This is a quite nice functionality which is most importantly very easy to scale, see <a href="https://matplotlib.org/gallery/userdemo/demo_gridspec01.html#sphx-glr-gallery-userdemo-demo-gridspec01-py" target="_blank">here</a>:</p>

    <pre><code class="python">
      ax1 = plt.subplot2grid((3, 5), (0, 0), colspan=5)
      ax2 = plt.subplot2grid((3, 5), (1, 0), colspan=2)
      ax3 = plt.subplot2grid((3, 5), (1, 2), rowspan=2)
      ax4 = plt.subplot2grid((3, 5), (2, 0))
      ax5 = plt.subplot2grid((3, 5), (2, 1))
      ax6 = plt.subplot2grid((3, 5), (1, 3), rowspan=2, colspan=2)
    </code></pre>

    <img src="E3.svg" alt="E3" width=90% style="display: block;margin-left:auto;margin-right:auto; text-align: center;padding-top: 20px;">

    <p>Since you probably wonder, why we define the grid resolution each time, this is...</p>

    <hr>
    <p><b>GridSpec.</b> It is still limiting and it is usually preferred to use the more general <a href="https://matplotlib.org/api/_as_gen/matplotlib.gridspec.GridSpec.html#matplotlib.gridspec.GridSpec" target="_blank">GridSpec</a> which adds control over the spacing between the subplots aswell!</p>
    
    <hr>
    <h3>Plotting Details</h3>
    <p> <b>Limits.</b>
    </p>
    <hr>
    <p><b>Ticks.</b>
    </p>
    <hr>
    <p><b>Spines.</b>
    </p>


    <hr>
    <h3>Text, Math & Annotations</h3>
    <p> 
      Most of the time text of any kind won't be necessary or will in fact only confuse the recipient looking at the figure.
      Relevant text must usually be added next to the picture and not be a part of it as to not distract or confuse. 
      Nonetheless displaying some math, units and axes describtions are essential. To keep the figure as visually clean as possible
      and get it's message across without throwing around with ugly fonts, we need to know how to customize these as well.
    </p>

    <hr>
    <p><b><a href="https://matplotlib.org/3.1.0/api/font_manager_api.html#matplotlib.font_manager.FontManager" target="_blank">Fonts</a></b></p>
    <p>
      Matplotlib supports any type of font you throw at as long it is installed at your system and also a <a>.ttf</a> or <a>.afm</a> file. Here are a few more
      or less random examples: 
    </p>

    <img src="text_sheet.png" alt="text_sheet" width=90% style="display: block;
      margin-left:auto;margin-right:auto; text-align: center;padding-top: 20px; padding-right: 7px;">

    <p> 
      Certain font families can change the personality of a plot drastically. In general, less is more, Comic Sans is a joke and if you can go without text, go without. I'll explain design guidelines like these quite extensively in the second part of the introduction, <a> Visual Principles </a>.
    </p>
    <!-- TODO: ON MPL-DATA FILES -->
    <p>
      The general method of changing any text font to a new one (here 'fontname') goes somewhat like this:
    </p>
    <pre><code class="python">
      import matplotlib.pyplot as plt
      import matplotlib.font_manager as fm

      prop = fm.FontProperties(fname='/usr/share/fonts/truetype/fontname.ttf')
      plt.title('text', fontproperties=prop)

      plt.show()
    </code></pre>
    <p>
      If a font is not rendered this may have two reasons. Matplotlib might either need to refresh it's font cache:
    <pre><code class="python">
      matplotlib.font_manager._rebuild()
    </code></pre>

    <hr>
    <p><b>Title & Subtitle</b></p>
    
    <hr>
    <p><b>Labels</b></p>
    
    <hr>
    <p><b>Annotations</b></p>
    
    <hr>
    <p><b>Text</b></p>

    <hr>
    <p><b>Math</b></p>
    <p>
      By importing Matplotlib's <a>rc</a> module</p>

    <pre><code class="python">
      # for LaTeX font
      from matplotlib import rc
      rc('font',**{'family':'sans-serif','sans-serif':['Helvetica']})
      rc('text', usetex=True)
    </code></pre>

    <p>we can add <a href="https://www.latex-project.org/"> LaTeX </a> equations to our plot. For example, we may write</p>

    <pre><code class="python">
      # red LaTeX expression
      plt.text(0.25,8.5,r"$(x-1)^3 + 1$", color="crimson", size=15)
    </code></pre>
    <p> to plot the expression \((x-1)^3 + 1\) at the center of a given plot.

    <img src="E1.svg" alt="E1" width=80% style="display: block;margin-left:auto;margin-right:auto; text-align: center; padding-top: 20px; padding-right: 15px;">

    <p>By changing the rc parameters you have now made changes to the style. To reverse this, you can use <a href="https://matplotlib.org/3.2.0/api/style_api.html" target="_blank">matplotlib.style.use('default')</a> or <a href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.rcdefaults.html" target="_blank">rcdefaults()</a> to restore the default rc parameters.</p>



    <hr>
    <h3>Style</h3>
    
    <p>
      It turns out that Matplotlib already has a big <a href="https://matplotlib.org/3.2.0/gallery/style_sheets/style_sheets_reference.html" target="_blank">library of styles</a> you can choose from at the beginning of you script. Just like we reset the style in the previous section we can import a style by writing: 
    </p>
    
    <pre><code class="python">
      matplotlib.style.use('ggplot') 
    </code></pre>
    
    <p>(In this case, the imported changes to the style are designed to emulate the look of a plotting package for R.) We can also load multiple styles one after another to create mixed versions where each following loaded style overwrites some special rc parameters. Please take a peak at the <a href="https://matplotlib.org/3.2.0/gallery/style_sheets/style_sheets_reference.html" target="_blank">style sheets</a> but don't think we are finished here. A master of his craft creates his own defining style. Let's look at how we can write our own that we can save as a seperate file and then simply load with this one line.</p>


    <hr>
    <h3> Other Types of Plots </h3>
    <p>We just saw that we can't only plot simple functions but also create histograms. In fact, Matplot offers a wide range of other incredibly usefull functionalities I won't even try to get into here. But let me tell you about a couple important ones.
    </p>
    <p>
    <ul>
      <li>Scatter point plot</li>
      <li>Hexbin density plot</li>
      <li>Image plot</li>
      <li>Field plot</li>
    </ul>
    </p>

    <!--
    <hr>
    <h3> Message Trumps Beauty </h3>
    <p>
    <ul>
      <li>Know Your Audience</li>
      <li>Identify Your Message</li>
      <li>Adapt the Figure to Medium</li>
      <li>Captions Are Not Optional</li>
      <li>Use Color Effectively</li>
    </ul>   
    </p>
    -->
    <hr>
    <h3> Other Libraries </h3>
    <p> Forming a solid understanding of Matplotlib is crucial in order to master other plotting libraries since
    most of the build on it. They often simplify the process or add some major functionalities. </p>

    <!--<p>
    "One of Matplotlib’s most important features is its ability to play well with many operating systems and graphics backends. Matplotlib supports dozens of backends and output types, which means you can count on it to work regardless of which operating system you are using or which output format you wish. This cross-platform, everything-to-everyone approach has been one of the great strengths of Matplotlib. It has led to a large user base, which in turn has led to an active developer base and Matplotlib’s powerful tools and ubiquity within the scientific Python world.

    In recent years, however, the interface and style of Matplotlib have begun to show their age. Newer tools like ggplot and ggvis in the R language, along with web visualization toolkits based on D3js and HTML5 canvas, often make Matplotlib feel clunky and old-fashioned. Still, I'm of the opinion that we cannot ignore Matplotlib's strength as a well-tested, cross-platform graphics engine. Recent Matplotlib versions make it relatively easy to set new global plotting styles (see Customizing Matplotlib: Configurations and Style Sheets), and people have been developing new packages that build on its powerful internals to drive Matplotlib via cleaner, more modern APIs—for example, Seaborn (discussed in Visualization With Seaborn), ggpy, HoloViews, Altair, and even Pandas itself can be used as wrappers around Matplotlib's API. Even with wrappers like these, it is still often useful to dive into Matplotlib's syntax to adjust the final plot output. For this reason, I believe that Matplotlib itself will remain a vital piece of the data visualization stack, even if new tools mean the community gradually moves away from using the Matplotlib API directly."
    </p> -->

    <hr>
    <h3 style="background-color: silver;"> Additional Recources </h3>
</div>

</body>
</html>
